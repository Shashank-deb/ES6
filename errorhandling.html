


<script>
    /*
      Async/await
        There's a special syntax to work with promieses in a more comfortable fashion ,
        called "async/await".It's surprisingly easy to understand and use.
    
    
        The word "async" before a function means one simple thing : a function always 
        return a promise.
    
    
        So the async keyword is added to function to tell them to return a promise rather 
        than  directly returning the value .
    
    
        We can use await when calling  any function that returns a Promise, including 
        web API functions.
    
    
        The keyword await makes Javascript wait until that promise settles and returns its
        result.
    
    */
    
    
    const pobj1=new Promise((resolve,reject)=>{
    
    setTimeout(()=>{
        let roll_no=[1,2,3,4,5];
        resolve(roll_no);
        // reject(`Error while communicating`);
    },2000);
     
    });
    
    
    
    const getBiodata=(indexdata)=>{
    return new Promise((resolve,reject)=>{
        setTimeout((indexdata)=>{
          let biodata={
            name:'vinod',
            age:26
          }
          resolve(`My roll no is ${indexdata}.
          My name is ${biodata.name}
           and Iam ${biodata.age} years old.`);
        },2000,indexdata);
    })
    }
    
    
    // consuming the promise / receiving the promise response 
    // pobj1.then((rollno)=>{
    //   console.log(rollno);
    //   return getBiodata(rollno[1]);
    // }).then((kuchbhi)=>{
    // console.log(kuchbhi);
    // })
    // .catch((error)=>{
    // console.log(error);
    // })
    
    
    
    
    async function getData(){

        try{
        const rollnodata =await pobj1;
        console.log(rollnodata);
        const biodatas=await getBiodata(rollnodata[1]);
        console.log(biodatas);
        return biodatas;
        }
        catch(error){
            console.log(`The Error:  ${error}`);
        }
        
    }
    
    
    const getname=getData().then((myname)=>{
      console.log(myname);
    });
    
    
    
    
    
    
    </script>